@startuml Admin Activity Diagram - Manage Users
!theme plain

title Wajba - Admin Manage Users Activity Diagram

start

:Login to Admin Portal;

:View Dashboard;

if (Navigate To?) then (User Management)
  :Navigate to User Management;
  :View All Users;
  
  if (Action?) then (Filter Users)
  :Select Role Filter;
  
  if (Role?) then (Customer)
    :Show Customers Only;
  elseif (Role?) then (Partner)
    :Show Partners Only;
  elseif (Role?) then (Rider)
    :Show Riders Only;
  else (Admin)
    :Show Admins Only;
  endif
  
  :Display Filtered Users;
  
elseif (Action?) then (Search Users)
  :Enter Search Query;
  
  if (Search By?) then (Name)
    :Search by Name;
  elseif (Search By?) then (Email)
    :Search by Email;
  else (Phone)
    :Search by Phone;
  endif
  
  :Display Search Results;
  
elseif (Action?) then (Delete User)
  :Select User to Delete;
  :Show Confirmation Dialog;
  
  if (Confirmed?) then (no)
    :Cancel Deletion;
  else (yes)
    :Delete User from Database;
    :Show Success Message;
    :Refresh User List;
  endif
  
elseif (Navigate To?) then (Restaurants)
  :Navigate to Restaurants Management;
  :View All Restaurants;
  
  if (Restaurant Action?) then (Add Restaurant)
    :Enter Restaurant Details;
    :Upload Restaurant Images;
    :Set Restaurant Info;
    :Save Restaurant;
    :Show Success Message;
  elseif (Restaurant Action?) then (Edit Restaurant)
    :Select Restaurant;
    :Update Restaurant Details;
    :Save Changes;
    :Show Success Message;
  else (Delete Restaurant)
    :Select Restaurant;
    :Confirm Deletion;
    :Delete Restaurant;
    :Show Success Message;
  endif
  
elseif (Navigate To?) then (Promotions)
  :Navigate to Promotions Management;
  :View All Promotions;
  
  if (Promotion Action?) then (Create Promotion)
    :Enter Promotion Code;
    :Set Discount Value;
    :Set Validity Period;
    :Set Usage Limit;
    :Save Promotion;
    :Show Success Message;
  elseif (Promotion Action?) then (Edit Promotion)
    :Select Promotion;
    :Update Promotion Details;
    :Save Changes;
    :Show Success Message;
  elseif (Promotion Action?) then (Delete Promotion)
    :Select Promotion;
    :Confirm Deletion;
    :Delete Promotion;
    :Show Success Message;
  else (Toggle Status)
    :Select Promotion;
    :Toggle Active/Inactive;
    :Update Status;
    :Show Success Message;
  endif

else (Analytics Dashboard)
  :Navigate to Analytics Dashboard;
  
  :Select Time Period;
  
  if (Period?) then (Week)
    :Load Week Data;
  elseif (Period?) then (Month)
    :Load Month Data;
  else (Year)
    :Load Year Data;
  endif
  
  :Fetch Analytics Data;
  :Display Revenue Statistics;
  :Display Order Statistics;
  :Display User Statistics;
  :Display Restaurant Statistics;
  :Display Rider Statistics;
  :Show Revenue Trends Chart;
  :Show Orders Trends Chart;
  
  if (Refresh Data?) then (yes)
    :Reload Analytics;
  else (no)
  endif
endif

:Task Complete;

stop

@enduml
